<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
<ModulePrefs title="State Example" height="800" scrolling="true">
  <Require feature="wave" /> 
  <Require feature="dynamic-height" />
</ModulePrefs>
<Content type="html">
<![CDATA[ 

	 <style  TYPE="text/css">
	 </style>

	 <div id="content_div">Bar</div>
	 
	 <script type="text/javascript">

	 var div = document.getElementById('content_div');
	 function stateUpdated() {
	   div.innerHTML = '<div>Foo2</div>';
	   gadgets.window.adjustHeight();
	 }
 
	 function init() {
	   if (wave && wave.isInWaveContainer()) {
	     wave.setStateCallback(stateUpdated);
	   }
	 }
	 gadgets.util.registerOnLoadHandler(init);

	 </script>
	 
	  ]]> 

  </Content>
</Module>
